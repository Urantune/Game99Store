<%
// L·∫•y id t·ª´ URL
String id = request.getParameter("id");

// Bi·∫øn l∆∞u th√¥ng tin game
String name = "";
String price = "";
String img = "";
String rating = "";
String size = "";
String age = "";
String downloads = "";
String description = "";

// ·∫¢nh demo nh·ªè
String preview1 = "";
String preview2 = "";
String preview3 = "";
String video = "";

// Gi·∫£ l·∫≠p d·ªØ li·ªáu game (1 -> 13)
if ("1".equals(id)) {
name = "Li√™n Qu√¢n Mobile";
price = "$999.00";
img = "img/game1.jpg";
rating = "‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ (4.0/5)";
size = "2.5 GB";
age = "12+";
downloads = "50 Tr+";
description = "Li√™n Qu√¢n Mobile l√† t·ª±a game MOBA "
+ "n·ªïi ti·∫øng tr√™n di ƒë·ªông, n∆°i ng∆∞·ªùi ch∆°i tham gia"
+ " c√°c tr·∫≠n chi·∫øn 5v5 k·ªãch t√≠nh. Game s·ªü h·ªØu h·ªá th·ªëng"
+ " t∆∞·ªõng ƒëa d·∫°ng v·ªõi nhi·ªÅu k·ªπ nƒÉng ƒë·ªôc ƒë√°o, cho ph√©p"
+ " ng∆∞·ªùi ch∆°i th·ªèa s·ª©c l·ª±a ch·ªçn chi·∫øn thu·∫≠t. ƒê·ªì h·ªça ƒë·∫πp"
+ " m·∫Øt, √¢m thanh s·ªëng ƒë·ªông mang ƒë·∫øn tr·∫£i nghi·ªám ch√¢n th·ª±c"
+ " v√† h·∫•p d·∫´n. ƒê√¢y l√† tr√≤ ch∆°i ƒë√≤i h·ªèi tinh th·∫ßn ƒë·ªìng ƒë·ªôi,"
+ " k·ªπ nƒÉng c√° nh√¢n v√† t∆∞ duy chi·∫øn l∆∞·ª£c ƒë·ªÉ gi√†nh chi·∫øn th·∫Øng.";
video = "videos/lienquan.mp4";
preview1 = "img/demo.jpg";
preview2 = "img/demo1.jpg";
preview3 = "img/demo3.jpg";
} else if ("2".equals(id)) {
name = "Free Fire";
price = "Mi·ªÖn ph√≠";
img = "img/game2.jpg";
rating = "‚≠ê (1/5)";
size = "2.0 GB";
age = "12+";
downloads = "1 T+";
description = "Free Fire l√† m·ªôt tr√≤ ch∆°i b·∫Øn s√∫ng sinh t·ªìn h·∫•p d·∫´n tr√™n di ƒë·ªông, n∆°i 50 ng∆∞·ªùi ch∆°i ƒë∆∞·ª£c th·∫£ xu·ªëng m·ªôt h√≤n ƒë·∫£o ƒë·ªÉ chi·∫øn ƒë·∫•u ƒë·∫øn c√πng. Ng∆∞·ªùi ch∆°i ph·∫£i t√¨m v≈© kh√≠, trang b·ªã v√† t√†i nguy√™n ƒë·ªÉ s·ªëng s√≥t, ƒë·ªìng th·ªùi tr√°nh v√πng an to√†n thu h·∫πp d·∫ßn. Tr√≤ ch∆°i n·ªïi b·∫≠t v·ªõi nh·ªãp ƒë·ªô nhanh, chi·∫øn l∆∞·ª£c ƒëa d·∫°ng v√† kh·∫£ nƒÉng t√πy ch·ªânh nh√¢n v·∫≠t. V·ªõi c√°c ch·∫ø ƒë·ªô ch∆°i phong ph√∫ v√† s·ª± ki·ªán li√™n t·ª•c, Free Fire mang ƒë·∫øn tr·∫£i nghi·ªám h√†nh ƒë·ªông gay c·∫•n v√† k·ªãch t√≠nh cho m·ªçi game th·ªß.";
video = "videos/freefire.mp4";
preview1 = "img/demo4.jpg";
preview2 = "img/demo5.jpg";
preview3 = "img/demo6.jpg";
} else if ("3".equals(id)) {
name = "Zing Speed Mobile";
price = "Mi·ªÖn ph√≠";
img = "img/game3.jpg";
rating = "‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (3.5/5)";
size = "3.5 GB";
age = "18+";
downloads = "30 Tr+";
description = "ZingSpeed Mobile l√† tr√≤ ch∆°i ƒëua xe t·ªëc ƒë·ªô cao tr√™n di ƒë·ªông, n∆°i ng∆∞·ªùi ch∆°i c√≥ th·ªÉ tham gia c√°c cu·ªôc ƒëua k·ªãch t√≠nh v√† so t√†i k·ªπ nƒÉng l√°i xe. Tr√≤ ch∆°i n·ªïi b·∫≠t v·ªõi ƒë·ªì h·ªça sinh ƒë·ªông, nhi·ªÅu ch·∫ø ƒë·ªô ƒëua kh√°c nhau v√† h·ªá th·ªëng xe ƒëa d·∫°ng ƒë·ªÉ t√πy ch·ªânh. Ng∆∞·ªùi ch∆°i c√≤n c√≥ th·ªÉ k·∫øt n·ªëi, thi ƒë·∫•u v√† t∆∞∆°ng t√°c v·ªõi b·∫°n b√® trong c√°c gi·∫£i ƒëua s√¥i ƒë·ªông.";
video = "videos/zingspeed.mp4";
preview1 = "img/demo7.jpg";
preview2 = "img/demo8.jpg";
preview3 = "img/demo9.jpg";
} else if ("4".equals(id)) {
name = "Genshin Impact";
price = "Mi·ªÖn ph√≠";
img = "img/game5.jpg";
rating = "‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (4.7/5)";
size = "üìÇ 15GB";
age = "üîû 12+";
downloads = "‚¨áÔ∏è 100 tri·ªáu+";
description = "Genshin Impact l√† tr√≤ ch∆°i nh·∫≠p vai phi√™u l∆∞u th·∫ø gi·ªõi m·ªü tr√™n di ƒë·ªông v√† PC, n∆°i ng∆∞·ªùi ch∆°i kh√°m ph√° v√πng ƒë·∫•t Teyvat r·ªông l·ªõn ƒë·∫ßy b√≠ ·∫©n. Ng∆∞·ªùi ch∆°i c√≥ th·ªÉ ƒëi·ªÅu khi·ªÉn nhi·ªÅu nh√¢n v·∫≠t v·ªõi kh·∫£ nƒÉng nguy√™n t·ªë kh√°c nhau, chi·∫øn ƒë·∫•u v√† gi·∫£i ƒë·ªë ƒë·ªÉ ho√†n th√†nh nhi·ªám v·ª•. Tr√≤ ch∆°i n·ªïi b·∫≠t v·ªõi ƒë·ªì h·ªça ƒë·∫πp m·∫Øt, c·ªët truy·ªán phong ph√∫ v√† l·ªëi ch∆°i t·ª± do s√°ng t·∫°o.";
video = "videos/GenshinImpact.mp4";
preview1 = "img/demo14.jpg";
preview2 = "img/demo15.jpg";
preview3 = "img/demo16.jpg";
} else if ("5".equals(id)) {
name = "Chi·∫øn C∆° Huy·ªÅn Tho·∫°i";
price = "$5.00";
img = "img/game4.jpg";
rating = "‚≠ê‚≠ê‚≠ê‚≠ê (4.2/5)";
size = "üìÇ 300MB";
age = "üîû 7+";
downloads = "‚¨áÔ∏è 100 tri·ªáu+";
video = "videos/ccht.mp4";
preview1 = "img/demo17.jpg";
preview2 = "img/demo18.jpg";
preview3 = "img/demo19.jpg";
description = "Chi·∫øn C∆° Huy·ªÅn Tho·∫°i l√† tr√≤ ch∆°i b·∫Øn m√°y bay h√†nh ƒë·ªông h·∫•p d·∫´n tr√™n di ƒë·ªông, n∆°i ng∆∞·ªùi ch∆°i ƒëi·ªÅu khi·ªÉn chi·∫øn c∆° v∆∞·ª£t qua l√†n s√≥ng k·∫ª th√π ƒë√¥ng ƒë·∫£o. Tr√≤ ch∆°i n·ªïi b·∫≠t v·ªõi ƒë·ªì h·ªça 3D s·ªëng ƒë·ªông, hi·ªáu ·ª©ng ho√†nh tr√°ng v√† nhi·ªÅu lo·∫°i v≈© kh√≠ ƒëa d·∫°ng. Ng∆∞·ªùi ch∆°i c√≥ th·ªÉ n√¢ng c·∫•p chi·∫øn c∆°, tham gia nhi·ªám v·ª• v√† th·ª≠ th√°ch ƒë·ªÉ tr·ªü th√†nh phi c√¥ng huy·ªÅn tho·∫°i.";
} else if ("6".equals(id)) {
name = "PUBG Mobile";
price = "$29.99";
img = "img/game6.jpg";
rating = "‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (4.8/5)";
size = "üìÇ 400MB";
age = "üîû 7+";
downloads = "‚¨áÔ∏è 200 tri·ªáu+";
video = "videos/pubg.mp4";
preview1 = "img/demo20.jpg";
preview2 = "img/demo21.jpg";
preview3 = "img/demo22.jpg";
description = "PUBG l√† tr√≤ ch∆°i sinh t·ªìn b·∫Øn s√∫ng g√≥c nh√¨n th·ª© nh·∫•t v√† th·ª© ba, n∆°i ng∆∞·ªùi ch∆°i nh·∫£y d√π xu·ªëng m·ªôt h√≤n ƒë·∫£o v√† chi·∫øn ƒë·∫•u ƒë·ªÉ tr·ªü th√†nh ng∆∞·ªùi s·ªëng s√≥t cu·ªëi c√πng. Tr√≤ ch∆°i n·ªïi b·∫≠t v·ªõi nh·ªãp ƒë·ªô cƒÉng th·∫≥ng, chi·∫øn thu·∫≠t ƒëa d·∫°ng v√† nhi·ªÅu lo·∫°i v≈© kh√≠, ph∆∞∆°ng ti·ªán. Ng∆∞·ªùi ch∆°i ph·∫£i thu th·∫≠p trang b·ªã, n√© tr√°nh v√πng nguy hi·ªÉm v√† ƒë·ªëi th·ªß ƒë·ªÉ chi·∫øn th·∫Øng.";
} else if ("7".equals(id)) {
name = "Cyberpunk";
price = "Mi·ªÖn ph√≠";
img = "img/game7.jpg";
rating = "‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (4.5/5)";
size = "üìÇ 3GB";
age = "üîû 16+";
downloads = "‚¨áÔ∏è 300 tri·ªáu+";
video = "videos/Cyberpunk.mp4";
preview1 = "img/demo23.jpg";
preview2 = "img/demo24.jpg";
preview3 = "img/demo25.jpg";
description = "Cyberpunk 2077 l√† tr√≤ ch∆°i nh·∫≠p vai th·∫ø gi·ªõi m·ªü l·∫•y b·ªëi c·∫£nh t∆∞∆°ng lai dystopia, n∆°i ng∆∞·ªùi ch∆°i v√†o vai V ‚Äì m·ªôt l√≠nh ƒë√°nh thu√™ trong th√†nh ph·ªë Night City. Tr√≤ ch∆°i n·ªïi b·∫≠t v·ªõi c·ªët truy·ªán s√¢u s·∫Øc, ƒë·ªì h·ªça ch√¢n th·ª±c v√† nhi·ªÅu l·ª±a ch·ªçn t∆∞∆°ng t√°c ·∫£nh h∆∞·ªüng ƒë·∫øn di·ªÖn bi·∫øn c√¢u chuy·ªán. Ng∆∞·ªùi ch∆°i c√≥ th·ªÉ t√πy ch·ªânh nh√¢n v·∫≠t, v≈© kh√≠ v√† k·ªπ nƒÉng ƒë·ªÉ th·ª±c hi·ªán nhi·ªám v·ª•.";
} else if ("8".equals(id)) {
name = "Among Us";
price = "Mi·ªÖn ph√≠";
img = "img/game8.jpg";
rating = "‚≠ê‚≠ê‚≠ê‚≠ê (4.3/5)";
size = "üìÇ 500MB";
age = "üîû 7+";
downloads = "‚¨áÔ∏è 500 tri·ªáu+";
video = "videos/Among.mp4";
preview1 = "img/demo26.jpg";
preview2 = "img/demo27.jpg";
preview3 = "img/demo28.jpg";
description = "Among Us l√† tr√≤ ch∆°i x√£ h·ªôi nhi·ªÅu ng∆∞·ªùi ch∆°i, n∆°i c√°c th√†nh vi√™n phi h√†nh ƒëo√†n ph·∫£i ho√†n th√†nh nhi·ªám v·ª• tr√™n t√†u v≈© tr·ª• trong khi t√¨m ra k·∫ª m·∫°o danh. K·∫ª m·∫°o danh s·∫Ω c·ªë g·∫Øng lo·∫°i b·ªè ng∆∞·ªùi kh√°c m√† kh√¥ng b·ªã ph√°t hi·ªán. Tr√≤ ch∆°i n·ªïi b·∫≠t v·ªõi c∆° ch·∫ø suy lu·∫≠n, l·ª´a d·ªëi v√† h·ª£p t√°c gi·ªØa ng∆∞·ªùi ch∆°i, mang ƒë·∫øn tr·∫£i nghi·ªám v·ª´a cƒÉng th·∫≥ng v·ª´a vui nh·ªôn.";
} else if ("9".equals(id)) {
name = "V√µ L√¢m Truy·ªÅn K·ª≥";
price = "Mi·ªÖn ph√≠";
img = "img/game9.jpg";
rating = "‚≠ê‚≠ê‚≠ê‚≠ê (4.4/5)";
size = "üìÇ 350MB";
age = "üîû 7+";
downloads = "‚¨áÔ∏è 200 tri·ªáu+";
video = "videos/Volamtruyenky.mp4";
preview1 = "img/demo29.jpg";
preview2 = "img/demo30.jpg";
preview3 = "img/demo31.jpg";
description = "V√µ L√¢m Truy·ªÅn K·ª≥ l√† tr√≤ ch∆°i nh·∫≠p vai h√†nh ƒë·ªông tr√™n di ƒë·ªông v·ªõi b·ªëi c·∫£nh v√µ hi·ªáp Trung Qu·ªëc, n∆°i ng∆∞·ªùi ch∆°i luy·ªán v√µ, ho√†n th√†nh nhi·ªám v·ª• v√† chi·∫øn ƒë·∫•u v·ªõi k·∫ª th√π. Tr√≤ ch∆°i n·ªïi b·∫≠t v·ªõi ƒë·ªì h·ªça 3D s·ªëng ƒë·ªông, c√°c chi√™u th·ª©c v√µ thu·∫≠t ƒëa d·∫°ng v√† h·ªá th·ªëng PvP l√¥i cu·ªën. Ng∆∞·ªùi ch∆°i c√≥ th·ªÉ gia nh·∫≠p bang h·ªôi, tham gia ho·∫°t ƒë·ªông th·∫ø gi·ªõi v√† n√¢ng c·∫•p nh√¢n v·∫≠t.";
} else if ("10".equals(id)) {
name = "Hay Day";
price = "Mi·ªÖn ph√≠";
img = "img/game10.jpg";
rating = "‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (4.6/5)";
size = "üìÇ 3GB";
age = "üîû 12+";
downloads = "‚¨áÔ∏è 50 tri·ªáu+";
video = "videos/hayday.mp4";
preview1 = "img/demo32.jpg";
preview2 = "img/demo33.jpg";
preview3 = "img/demo34.jpg";
description = "Hay Day l√† tr√≤ ch∆°i n√¥ng tr·∫°i m√¥ ph·ªèng, n∆°i ng∆∞·ªùi ch∆°i canh t√°c c√¢y tr·ªìng, chƒÉn nu√¥i th√∫ v√† qu·∫£n l√Ω n√¥ng tr·∫°i c·ªßa m√¨nh. Tr√≤ ch∆°i n·ªïi b·∫≠t v·ªõi ƒë·ªì h·ªça t∆∞∆°i s√°ng, nhi·ªám v·ª• phong ph√∫ v√† kh·∫£ nƒÉng giao th∆∞∆°ng v·ªõi b·∫°n b√®. Ng∆∞·ªùi ch∆°i c√≥ th·ªÉ m·ªü r·ªông n√¥ng tr·∫°i, ch·∫ø bi·∫øn s·∫£n ph·∫©m v√† tham gia c√°c s·ª± ki·ªán ƒë·∫∑c bi·ªát.";
} else if ("11".equals(id)) {
name = "Li√™n Minh Huy·ªÅn Tho·∫°i";
price = "Mi·ªÖn ph√≠";
img = "img/game11.jpg";
rating = "‚≠ê‚≠ê‚≠ê‚≠ê (4.1/5)";
size = "üìÇ 1GB";
age = "üîû 7+";
downloads = "‚¨áÔ∏è 500 tri·ªáu+";
video = "videos/hayday.mp4";
preview1 = "img/demo35.jpg";
preview2 = "img/demo36.jpg";
preview3 = "img/demo37.jpg";
description = "Li√™n Minh Huy·ªÅn Tho·∫°i l√† tr√≤ ch∆°i MOBA nhi·ªÅu ng∆∞·ªùi ch∆°i, n∆°i hai ƒë·ªôi 5 ng∆∞·ªùi chi·∫øn ƒë·∫•u ƒë·ªÉ ph√° h·ªßy cƒÉn c·ª© ƒë·ªëi ph∆∞∆°ng. Tr√≤ ch∆°i n·ªïi b·∫≠t v·ªõi h∆°n 160 t∆∞·ªõng ƒëa d·∫°ng, chi·∫øn thu·∫≠t s√¢u s·∫Øc v√† kh·∫£ nƒÉng ph·ªëi h·ª£p ƒë·ªìng ƒë·ªôi. Ng∆∞·ªùi ch∆°i c·∫ßn n√¢ng c·∫•p t∆∞·ªõng, ki·ªÉm so√°t b·∫£n ƒë·ªì v√† ph·ªëi h·ª£p chi·∫øn l∆∞·ª£c ƒë·ªÉ gi√†nh chi·∫øn th·∫Øng.";
} else if ("12".equals(id)) {
name = "Dota 2";
price = "Mi·ªÖn ph√≠";
img = "img/game12.jpg";
rating = "‚≠ê‚≠ê‚≠ê‚≠ê (4.3/5)";
size = "üìÇ 150MB";
age = "üîû 7+";
downloads = "‚¨áÔ∏è 1 t·ª∑+";
description = "Dota 2 l√† tr√≤ ch∆°i MOBA c·∫°nh tranh cao, n∆°i hai ƒë·ªôi 5 ng∆∞·ªùi ƒëi·ªÅu khi·ªÉn c√°c anh h√πng v·ªõi k·ªπ nƒÉng ri√™ng bi·ªát ƒë·ªÉ ph√° h·ªßy cƒÉn c·ª© ƒë·ªëi ph∆∞∆°ng. Tr√≤ ch∆°i n·ªïi b·∫≠t v·ªõi chi·∫øn thu·∫≠t ph·ª©c t·∫°p, h∆°n 120 anh h√πng v√† c√°c tr·∫≠n ƒë·∫•u cƒÉng th·∫≥ng. Ng∆∞·ªùi ch∆°i ph·∫£i ph·ªëi h·ª£p ƒë·ªìng ƒë·ªôi, farm t√†i nguy√™n v√† l·ª±a ch·ªçn trang b·ªã h·ª£p l√Ω ƒë·ªÉ th·∫Øng tr·∫≠n.";
} else if ("13".equals(id)) {
name = "Call of Duty";
price = "Mi·ªÖn ph√≠ (c√≥ IAP)";
img = "img/game13.jpg";
rating = "‚≠ê‚≠ê‚≠ê‚≠ê (4.2/5)";
size = "üìÇ 250MB";
age = "üîû 3+";
downloads = "‚¨áÔ∏è 1 t·ª∑+";
description = "Call of Duty l√† lo·∫°t tr√≤ ch∆°i b·∫Øn s√∫ng g√≥c nh√¨n th·ª© nh·∫•t n·ªïi ti·∫øng, v·ªõi nhi·ªÅu ch·∫ø ƒë·ªô ch∆°i t·ª´ chi·∫øn d·ªãch c·ªët truy·ªán ƒë·∫øn ƒë·∫•u m·∫°ng tr·ª±c tuy·∫øn. Tr√≤ ch∆°i n·ªïi b·∫≠t v·ªõi ƒë·ªì h·ªça ch√¢n th·ª±c, v≈© kh√≠ ƒëa d·∫°ng v√† nh·ªãp ƒë·ªô h√†nh ƒë·ªông nhanh. Ng∆∞·ªùi ch∆°i c√≥ th·ªÉ n√¢ng c·∫•p v≈© kh√≠, tham gia c√°c ch·∫ø ƒë·ªô PvP v√† tr·∫£i nghi·ªám c√°c chi·∫øn d·ªãch qu√¢n s·ª± s·ªëng ƒë·ªông.";
} else {
name = "Game kh√¥ng t·ªìn t·∫°i";
img = "img/notfound.png";
price = "-";
rating = "-";
size = "-";
age = "-";
downloads = "-";
}
%>


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title><%= name %> - Chi ti·∫øt game</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

</head>
<body>
<div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 9999"></div>
<%
String loginError = (String) request.getAttribute("loginError");
String enteredUsername = (String) request.getAttribute("enteredUsername");
%>

<!-- Modal Login (single source of truth) -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Login</h5>
                <!-- remove data-bs-dismiss so we control close behavior -->
                <button type="button" class="btn-close" id="loginCloseBtn" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div id="loginAlertArea">
                    <% if (loginError != null) { %>
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        <span class="alert-message"><%= loginError %></span>
                        <span class="countdown"> (<span class="seconds">3</span>s)</span>
                    </div>
                    <% } %>
                </div>

                <form action="login" method="post" id="loginForm">
                    <div class="mb-3">
                        <label class="form-label">Username</label>
                        <input type="text" class="form-control" name="username"
                               value="<%= enteredUsername != null ? enteredUsername : "" %>" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" name="password" required>
                    </div>

                    <div class="d-flex align-items-center">
                        <button type="submit" class="btn btn-primary me-3">Login</button>
                        <a href="ForgotPassword" class="text-decoration-none">Forgot password?</a>
                    </div>
                </form>

            </div>
        </div>
    </div>
</div>
<!-- CSS form Login -->
<style>
    #loginModal .modal-header {
        background: linear-gradient(135deg, #0d47a1, #1a237e);
        color: #fff;
        border-bottom: none;
        padding: 1rem 1.2rem;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
    }

    /* n√∫t close tr·∫Øng cho n·ªïi b·∫≠t */
    #loginModal .modal-header .btn-close {
        filter: invert(1);
        position: absolute;
        right: 1rem;
    }

    /* Thu nh·ªè modal t·ªïng th·ªÉ */
    #loginModal .modal-dialog {
        max-width: 380px;   /* g·ªçn l·∫°i */
        margin: 1.75rem auto;
    }

    /* Modal content */
    #loginModal .modal-content {
        border-radius: 16px;
        box-shadow: 0 6px 18px rgba(0,0,0,0.25);
        border: none;
        background: rgba(13, 71, 161, 0.2);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        overflow: hidden;
    }

    /* Modal body */
    #loginModal .modal-body {
        padding: 1.5rem;
        text-align: center; /* cƒÉn gi·ªØa n·ªôi dung */
    }

    /* Input */
    #loginModal .form-control {
        background: #2c3e50;
        border: none;
        border-radius: 8px;
        color: #fff;
        font-size: 14px;
        padding: 10px;
        margin-bottom: 1rem;
        text-align: left; /* text trong input v·∫´n tr√°i */
    }

    #loginModal .form-control:focus {
        border: 1px solid #ff9800;
        box-shadow: 0 0 6px rgba(255, 152, 0, 0.5);
    }

    /* Label */
    #loginModal .form-label {
        font-weight: 500;
        color: white;
        display: block;
        text-align: left; /* label canh tr√°i */
    }

    /* N√∫t Login */
    #loginModal .btn-primary {
        border-radius: 10px;
        padding: 0.5rem 1.2rem;
        font-weight: 600;
        background: linear-gradient(135deg, #0d47a1, #1a237e);
        border: none;
        transition: 0.3s;
    }

    #loginModal .btn-primary:hover {
        background: linear-gradient(135deg, #1565c0, #0d47a1);
        transform: translateY(-2px);
    }

    /* CƒÉn gi·ªØa h√†ng n√∫t v√† link */
    #loginModal .d-flex {
        justify-content: center;  /* cƒÉn gi·ªØa */
        gap: 1rem; /* kho·∫£ng c√°ch n√∫t v√† link */
    }

    /* Link Forgot */
    #loginModal a.text-decoration-none {
        font-size: 0.9rem;
        color: white;
        transition: color 0.3s;
    }

    #loginModal a.text-decoration-none:hover {
        color: #ff9800;
        text-decoration: underline;
    }

</style>
<!-- Modal ƒêƒÉng k√Ω -->
<div class="modal fade" id="registerModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Register</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">

                <!-- Alert hi·ªÉn th·ªã l·ªói -->
                <div id="registerAlert">
                    <%
                    String registerError = (String) request.getAttribute("registerError");
                    if (registerError != null) {
                    %>
                    <div class="alert alert-warning alert-dismissible fade show" role="alert">
                        <span class="alert-message"><%= registerError %></span>
                    </div>
                    <script>
                        document.addEventListener("DOMContentLoaded", function () {
                            var registerModal = new bootstrap.Modal(document.getElementById('registerModal'));
                            registerModal.show();
                        });
                    </script>

                    <%
                    }
                    %>
                </div>

                <!-- Form ƒëƒÉng k√Ω -->
                <form id="registerForm" action="register" method="post">
                    <div class="mb-3">
                        <label class="form-label">Username</label>
                        <input type="text" class="form-control" name="username"
                               value="${enteredUsername != null ? enteredUsername : ''}" required>
                    </div>
                    <label class="form-label">Email</label>
                    <div class="mb-3 d-flex align-items-center gap-2">

                        <input type="email" class="form-control" id="email" name="email"
                               value="${enteredEmail != null ? enteredEmail : ''}" required>
                        <button type="button" class="btn btn-sendcode" id="sendOtpBtn">Send code</button>
                    </div>


                    <div class="mb-3" id="otpSection" style="display:${enteredEmail != null ? 'block' : 'none'};">
                        <label class="form-label">OTP</label>
                        <input type="text" class="form-control" id="otp" name="otp">
                        <div class="form-text">Please enter the 6-digit code sent to your email</div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" id="password" name="password" required>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Confirm password</label>
                        <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" required>
                        <div id="passwordMessage" class="form-text text-danger"></div>
                    </div>

                    <button type="submit" class="btn btn-success">Register</button>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- CSS form Register -->
<!-- CSS form Register -->
<style>
    /* Modal chung */
    #registerModal .modal-content {
        border-radius: 20px;
        box-shadow: 0 8px 25px rgba(0,0,0,0.25);
        border: none;
        background: rgba(13, 71, 161, 0.2);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        overflow: hidden;
    }

    /* Header Register */
    #registerModal .modal-header {
        background: linear-gradient(135deg, #0d47a1, #1a237e);
        /*background: rgba(27, 56, 92, 0.95); */
        color: white;
        border-bottom: none;
        padding: 1rem 1.5rem;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
    }

    #registerModal .modal-title {
        font-weight: 600;
        font-size: 1.2rem;
    }

    #registerModal .modal-header .btn-close {
        position: absolute;
        right: 1rem;
        filter: brightness(0) invert(1);
    }

    /* Body */
    #registerModal .modal-body {
        padding: 2rem;
        background: rgba(255, 255, 255, 0.15);
        border-radius: 0 0 20px 20px;
    }

    /* Input */
    #registerModal .form-control {
        background: #2c3e50;   /* m√†u n·ªÅn t·ªëi */
        border: none;
        border-radius: 6px;
        color: #fff;           /* ch·ªØ tr·∫Øng */
        font-size: 14px;
        padding: 10px;
        transition: all 0.3s ease;
    }

    #registerModal .form-control:focus {
        border: 1px solid #ff9800; /* vi·ªÅn cam khi focus */
        box-shadow: 0 0 5px rgba(255, 152, 0, 0.5);
    }

    /* Label */
    #registerModal .form-label {
        font-weight: 500;
    }

    /* N√∫t Register */
    #registerModal .btn-success {
        border-radius: 12px;
        padding: 0.6rem 1.5rem;
        font-weight: 600;
        background: linear-gradient(135deg, #0d47a1, #1a237e);
        border: none;
        transition: 0.3s;
    }

    #registerModal .btn-success:hover {
        background: linear-gradient(135deg, #1565c0, #0d47a1);
        transform: translateY(-2px);
    }

    /* Alert Register */
    #registerAlert .alert {
        border-radius: 12px;
        font-size: 0.95rem;
        padding: 0.8rem 1rem;
    }

    /* √î email*/
    #registerModal .form-control {
        border-radius: 12px;
        padding: 0.7rem 1rem;
        border: 1px solid #cfd8dc;
        background: #2c3e50;
        transition: all 0.3s ease;
    }

    #registerModal .form-control:focus {
        border-color: #0d47a1;
        box-shadow: 0 0 8px rgba(13, 71, 161, 0.3);
    }

    /*Send code */
    #registerModal .btn-sendcode {
        border-radius: 12px;
        padding: 0.6rem 1rem;
        font-weight: 500;
        background: linear-gradient(135deg, #1565c0, #0d47a1);
        border: none;
        color: #fff;
        transition: 0.3s;
        white-space: nowrap;   /* gi·ªØ ch·ªØ kh√¥ng xu·ªëng d√≤ng */
    }

    #registerModal .btn-sendcode:hover {
        background: linear-gradient(135deg, #1e88e5, #1565c0);
        transform: translateY(-2px);
    }
</style>

<!-- JS check form -->
<script>
    const passwordInput = document.getElementById("password");
    const confirmPasswordInput = document.getElementById("confirmPassword");
    const message = document.getElementById("passwordMessage");
    const form = document.getElementById("registerForm");
    const otpInput = document.getElementById("otp");
    const otpSection = document.getElementById("otpSection");
    const sendOtpBtn = document.getElementById("sendOtpBtn");

    function checkPasswordMatch() {
        if (confirmPasswordInput.value !== "" && passwordInput.value !== confirmPasswordInput.value) {
            message.textContent = "‚ùå M·∫≠t kh·∫©u kh√¥ng kh·ªõp!";
        } else {
            message.textContent = "";
        }
    }
    passwordInput.addEventListener("input", checkPasswordMatch);
    confirmPasswordInput.addEventListener("input", checkPasswordMatch);

    form.addEventListener("submit", function (e) {
        if (passwordInput.value !== confirmPasswordInput.value) {
            e.preventDefault();
            alert("M·∫≠t kh·∫©u nh·∫≠p l·∫°i kh√¥ng kh·ªõp!");
            return;
        }
        if (otpSection.style.display === "none") {
            e.preventDefault();
            alert("B·∫°n c·∫ßn g·ª≠i OTP tr∆∞·ªõc khi ƒëƒÉng k√Ω!");
            return;
        }
        if (otpInput.value.trim() === "") {
            e.preventDefault();
            alert("Vui l√≤ng ƒëi·ªÅn m√£ OTP ƒë∆∞·ª£c g·ª≠i ƒë·∫øn email c·ªßa b·∫°n!");
            return;
        }
    });

    // G·ª≠i OTP
    sendOtpBtn.addEventListener("click", function () {
        const email = document.getElementById("email").value;
        if (!email) {
            alert("Vui l√≤ng nh·∫≠p email!");
            return;
        }

        fetch("sendOtp", {
            method: "POST",
            headers: {"Content-Type": "application/x-www-form-urlencoded"},
            body: "email=" + encodeURIComponent(email)
        })
            .then(res => res.text())
            .then(data => {
                if (data === "success") {
                    alert("M√£ OTP ƒë√£ ƒë∆∞·ª£c g·ª≠i ƒë·∫øn email c·ªßa b·∫°n!");
                    otpSection.style.display = "block";
                    otpInput.setAttribute("required", "true");

                    // Disable n√∫t 60s
                    let countdown = 60;
                    sendOtpBtn.disabled = true;
                    sendOtpBtn.textContent = "G·ª≠i l·∫°i (" + countdown + "s)";

                    const interval = setInterval(() => {
                        countdown--;
                        if (countdown > 0) {
                            sendOtpBtn.textContent = "G·ª≠i m√£ (" + countdown + "s)";
                        } else {
                            clearInterval(interval);
                            sendOtpBtn.disabled = false;
                            sendOtpBtn.textContent = "G·ª≠i m√£";
                        }
                    }, 1000);

                } else {
                    alert("Kh√¥ng th·ªÉ g·ª≠i OTP, vui l√≤ng th·ª≠ l·∫°i!\n" + data);
                }
            });
    });
</script>

<%
// L·∫•y gi·ªè h√†ng t·ª´ session
List<CartItem> cart = (List<CartItem>) session.getAttribute("cart");
    int cartCount = 0;
    if (cart != null) {
    for (CartItem item : cart) {
    cartCount += item.getQuantity();
    }
    }
    %>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container px-4 px-lg-5">
            <!-- Logo -->
            <a class="navbar-brand fw-bold text-dark fs-4" href="Index.jsp">Game Store</a>

            <!-- N√∫t toggle khi mobile -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false"
                    aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Menu + Cart -->
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <!-- Menu -->
                <ul class="navbar-nav ms-4 me-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link active" href="Index.jsp">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="About.jsp">About us</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown"
                           role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Shop
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="Index.jsp">All Game</a></li>
                            <li><a class="dropdown-item" href="#!">Popular Items</a></li>
                            <li><a class="dropdown-item" href="#!">New Arrivals</a></li>
                        </ul>
                    </li>

                </ul>
                <!-- Gi·ªè h√†ng -->
                <form class="d-flex me-2" action="Cart">
                    <button class="btn btn-outline-dark" type="submit">
                        <i class="bi-cart-fill me-1"></i>
                        <a href="Cart.jsp" style="text-decoration: none; color: inherit;">Cart</a>
                        <span class="badge bg-dark text-white ms-1 rounded-pill"><%= cartCount %></span>
                    </button>
                </form>
            </div>
        </div>

        <!-- ƒêƒÉng nh·∫≠p / ƒêƒÉng k√Ω -->
        <div class="d-flex ms-auto me-3">
            <%
            Object obj = session.getAttribute("user");
            String username = null;

            if (obj != null && obj instanceof model.User) {
            model.User userObj = (model.User) obj;
            username = userObj.getUserName();
            %>
            <span class="me-2">Xin ch√†o, <b><%= username %></b></span>
            <a href="logout" class="btn btn-outline-danger">ƒêƒÉng xu·∫•t</a>
            <%
            } else {
            %>
            <button class="btn btn-outline-primary me-2" data-bs-toggle="modal" data-bs-target="#loginModal">
                ƒêƒÉng nh·∫≠p
            </button>
            <button class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="#registerModal">
                ƒêƒÉng k√Ω
            </button>
            <%
            }
            %>

        </div>


    </nav>
    <header class="banner">
        <!-- Menu n·∫±m trong banner -->
        <div class="steam-menu">
            <div class="steam-menu-inner">
                <a href="Index.jsp">C·ª≠a h√†ng c·ªßa b·∫°n</a>
                <a href="About.jsp">About</a>
                <a href="NewGame.jsp">S·∫Øp ph√°t h√†nh</a>
                <!-- N√∫t Danh m·ª•c -->
                <div class="dropdown">
                    <a href="#" class="dropdown-toggle">Danh m·ª•c</a>
                    <div class="dropdown-menu">
                        <div class="dropdown-column">
                            <h4>Th·ªÉ lo·∫°i</h4>
                            <a href="#">H√†nh ƒë·ªông</a>
                            <a href="#">Phi√™u l∆∞u</a>
                            <a href="#">Nh·∫≠p vai (RPG)</a>
                            <a href="#">Chi·∫øn thu·∫≠t</a>
                            <a href="#">M√¥ ph·ªèng</a>
                            <a href="#">ƒêua xe</a>
                            <a href="#">Th·ªÉ thao</a>
                            <a href="#">Kinh d·ªã</a>
                            <a href="#">Puzzle</a>
                        </div>
                        <div class="dropdown-column">
                            <h4>Ch·ªß ƒë·ªÅ</h4>
                            <a href="#">Anime</a>
                            <a href="#">Khoa h·ªçc vi·ªÖn t∆∞·ªüng</a>
                            <a href="#">Cyberpunk</a>
                            <a href="#">Th·∫ø gi·ªõi m·ªü</a>
                            <a href="#">Sinh t·ªìn</a>
                            <a href="#">V≈© tr·ª•</a>
                        </div>
                        <div class="dropdown-column">
                            <h4>Theo ƒë·ªô ph·ªï bi·∫øn</h4>
                            <a href="#">M·ªõi ph√°t h√†nh</a>
                            <a href="#">S·∫Øp ra m·∫Øt</a>
                            <a href="#">B√°n ch·∫°y nh·∫•t</a>
                            <a href="#">ƒê∆∞·ª£c ƒë√°nh gi√° cao</a>
                            <a href="#">Game hot</a>
                        </div>
                        <div class="dropdown-column">
                            <h4>Theo n·ªÅn t·∫£ng</h4>
                            <a href="#">PC</a>
                            <a href="#">Smart Phone</a>
                            <a href="#">PlayStation</a>
                            <a href="#">Xbox</a>
                            <a href="#">Nintendo Switch</a>
                            <a href="#">Mobile</a>
                            <a href="#">VR</a>
                        </div>
                    </div>
                </div>
                <a href="#">C·ª≠a h√†ng ƒëi·ªÉm</a>
                <a href="#">Labs</a>

                <!-- √î t√¨m ki·∫øm -->
                <div class="search-box">
                    <input type="text" id="search" placeholder="T√¨m ki·∫øm game...">
                    <button type="button">üîç</button>
                    <div id="suggestions"></div>
                </div>
                <div id="no-result" style="display:none; color:red; margin-top:3px;">Kh√¥ng t√¨m th·∫•y game</div>
            </div>
        </div>

        <!--Js search Games and tra ve game search-->
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const searchBar = document.getElementById("search");
                const suggestions = document.getElementById("suggestions");
                const noResult = document.getElementById("no-result");

                const contextPath = "<%= request.getContextPath() %>" || "";

                const games = [
                    {name: "Li√™n Qu√¢n Mobile", img: contextPath + "/img/game1.jpg", anchor: "#lienquan"},
                    {name: "Free Fire", img: contextPath + "/img/game2.jpg", anchor: "#freefire"},
                    {name: "Zingspeed Mobile", img: contextPath + "/img/game3.jpg", anchor: "#zingspeed"},
                    {name: "Chi·∫øn C∆° Huy·ªÅn Tho·∫°i", img: contextPath + "/img/game4.jpg", anchor: "#chienco"},
                    {name: "Genshin Impact", img: contextPath + "/img/game5.jpg", anchor: "#genshin"},
                    {name: "PUBG Mobile", img: contextPath + "/img/game6.jpg", anchor: "#pubg"},
                    {name: "Cyberpunk", img: contextPath + "/img/game7.jpg", anchor: "#cyberpunk"},
                    {name: "Among Us", img: contextPath + "/img/game8.jpg", anchor: "#amongus"},
                    {name: "Hay Day", img: contextPath + "/img/game10.jpg", anchor: "#hayday"},
                    {name: "Lien Minh Huyen Thoai", img: contextPath + "/img/game11.jpg", anchor: "#lmth"},
                    {name: "Dota", img: contextPath + "/img/game12.jpg", anchor: "#dota"},
                    {name: "Call of Duty", img: contextPath + "/img/game13.jpg", anchor: "#duty"},
                    {name: "V√µ L√¢m Truy·ªÅn K·ª≥", img: contextPath + "/img/game9.jpg", anchor: "#kiemhiep"}
                ];

                const placeholder = "data:image/svg+xml;utf8," + encodeURIComponent(
                    '<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80"><rect width="100%" height="100%" fill="#2b2b2b"/><text x="50%" y="50%" fill="#999" font-size="12" text-anchor="middle" dominant-baseline="middle">No Image</text></svg>'
                );

                function createSuggestionItem(game) {
                    const div = document.createElement("div");
                    div.className = "suggestion-item";

                    const img = document.createElement("img");
                    img.alt = game.name;
                    img.src = game.img;
                    img.onerror = function () {
                        img.src = placeholder;
                    };

                    const span = document.createElement("span");
                    span.textContent = game.name;

                    div.appendChild(img);
                    div.appendChild(span);

                    div.onclick = () => {
                        window.location.href = contextPath + "/Index.jsp" + game.anchor;
                    };
                    return div;
                }

                function searchGames() {
                    const q = searchBar.value.trim().toLowerCase();
                    suggestions.innerHTML = "";
                    noResult.style.display = "none";

                    if (!q) {
                        suggestions.style.display = "none";
                        return [];
                    }

                    const filtered = games.filter(g => g.name.toLowerCase().includes(q));

                    if (filtered.length === 0) {
                        suggestions.style.display = "none";
                        noResult.style.display = "block";
                    } else {
                        filtered.forEach(game => {
                            const item = createSuggestionItem(game);
                            suggestions.appendChild(item);
                        });
                        suggestions.style.display = "block";
                    }
                    return filtered;
                }

                // input event
                searchBar.addEventListener("input", searchGames);

                // Enter key event
                searchBar.addEventListener("keydown", function (e) {
                    if (e.key === "Enter") {
                        const results = searchGames();
                        if (results.length === 0) {
                            alert("Kh√¥ng t√¨m th·∫•y game");
                        }
                    }
                });

                // click ra ngo√†i ·∫©n suggestions & no-result
                document.addEventListener("click", (e) => {
                    if (!e.target.closest(".search-box")) {
                        suggestions.style.display = "none";
                        noResult.style.display = "none";
                    }
                });
            });
        </script>

        <!-- C√°c ·∫£nh banner -->
        <div class="slides active" style="background-image: url('img/Aboutbanner.jpg');"></div>
        <div class="slides" style="background-image: url('img/game1.jpg');"></div>
        <div class="slides" style="background-image: url('img/game2.jpg');"></div>
        <div class="slides" style="background-image: url('img/game3.jpg');"></div>
        <div class="slides" style="background-image: url('img/game4.jpg');"></div>
        <div class="slides" style="background-image: url('img/game5.jpg');"></div>
        <div class="slides" style="background-image: url('img/game6.jpg');"></div>

        <!-- Ch·∫•m tr√≤n -->
        <div class="dots">
            <span class="dot active" onclick="currentSlide(0)"></span>
            <span class="dot" onclick="currentSlide(1)"></span>
            <span class="dot" onclick="currentSlide(2)"></span>
            <span class="dot" onclick="currentSlide(3)"></span>
            <span class="dot" onclick="currentSlide(4)"></span>
            <span class="dot" onclick="currentSlide(5)"></span>
            <span class="dot" onclick="currentSlide(6)"></span>
        </div>
    </header>


    <!-- CSS Danh Muc-->
    <style>

        /* Dropdown */
        .dropdown {
            position: relative;
        }

        .dropdown-toggle {
            cursor: pointer;
        }

        /* Menu x·ªï ra - ·∫©n m·∫∑c ƒë·ªãnh */
        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: rgba(27, 56, 92, 0.95); /* m√†u t·ªëi xanh ƒë·∫≠m h∆°n */
            padding: 20px;
            border-radius: 4px;
            min-width: 700px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
            z-index: 1000;

            /* grid layout */
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        /* Hover v√†o Danh m·ª•c th√¨ x·ªï ra */
        .dropdown:hover .dropdown-menu {
            display: grid;
        }


        /* Hover v√†o n√∫t Danh m·ª•c th√¨ hi·ªán menu */
        .dropdown:hover .dropdown-menu {
            display: grid;
        }

        /* C·ªôt b√™n trong */
        .dropdown-column h4 {
            margin-bottom: 10px;
            color: #66c0f4;
            font-size: 14px;
            font-weight: bold;
            border-bottom: 1px solid #2a475e;
            padding-bottom: 5px;
        }

        .dropdown-column a {
            display: block;
            color: #c7d5e0;
            font-size: 13px;
            padding: 4px 0;
            text-decoration: none;
            transition: color 0.2s;
        }

        .dropdown-column a:hover {
            color: #ffffff;
            text-decoration: underline;
        }

    </style>

    <!--Js chuyen dong banner-->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let slideIndex = 0;
            const slides = document.querySelectorAll(".slides");
            const dots = document.querySelectorAll(".dot");

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.remove("active");
                    dots[i].classList.remove("active");
                    if (i === index) {
                        slide.classList.add("active");
                        dots[i].classList.add("active");
                    }
                });
            }

            function changeSlide(n) {
                slideIndex = (slideIndex + n + slides.length) % slides.length;
                showSlide(slideIndex);
            }

            function currentSlide(n) {
                slideIndex = n;
                showSlide(slideIndex);
            }

            // Hi·ªÉn th·ªã slide ƒë·∫ßu ti√™n
            showSlide(slideIndex);

            // Auto ch·∫°y m·ªói 3 gi√¢y
            setInterval(() => changeSlide(1), 3000);
        });
    </script>


    <style>
        /* Banner */
        .banner {
            position: relative;
            width: 100%;
            height: 550px; /* Chi·ªÅu cao banner */
            overflow: hidden;
        }

        /* ·∫¢nh slide */
        .slides {
            position: absolute;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            z-index: 0;
        }

        .slides.active {
            opacity: 1;
        }


        /* Logo + slogan */
        .header-text {
            position: absolute;
            top: 70px; /* C√°ch m√©p tr√™n */
            left: 200px; /* C√°ch m√©p tr√°i */
            z-index: 15;
            text-align: left; /* Canh tr√°i */
            background: rgba(0, 0, 0, 0.5);
            padding: 20px 40px;
            border-radius: 10px;
            color: white;
        }

        .header-text h1 {
            font-size: 2.5rem;
            font-weight: 900;
            color: yellow;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .header-text h1 span {
            color: #ffcc00;
        }

        .header-text p {
            font-size: 1rem;
            color: yellow;
            margin: 5px 0 0;
            font-style: italic;
        }

        /* Ch·∫•m tr√≤n indicator */
        .dots {
            position: absolute;
            bottom: 20px;
            width: 100%;
            text-align: center;
        }

        .dot {
            cursor: pointer;
            height: 12px;
            width: 12px;
            margin: 0 4px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            display: inline-block;
            transition: background-color 0.3s ease;
        }

        .dot.active {
            background-color: #ffd700; /* v√†ng n·ªïi b·∫≠t */
        }

        .dot:hover {
            background-color: #fff;
        }


    </style>

    <style>
        /* N·ªÅn ngo√†i trong su·ªët */
        /* ƒê·∫∑t menu d√≠nh trong banner */
        .steam-menu {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 10; /* nh·ªè h∆°n header-text nh∆∞ng cao h∆°n ·∫£nh */
            display: flex;
            justify-content: center;
            padding: 10px 0;
        }


        /* N·ªÅn b√°n trong su·ªët */
        .steam-menu-inner {
            max-width: 1500px;
            width: 100%;
            background: rgba(18, 57, 101, 0.8); /* xanh m·ªù */
            padding: 8px 12px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }


        /* Link menu */
        .steam-menu a {
            color: white;
            text-decoration: none;
            margin-right: 20px;
            font-size: 14px;
            font-weight: 500;
            padding: 6px 10px;
            border-radius: 3px;
        }

        .steam-menu a:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* √î t√¨m ki·∫øm */
        .search-box {
            position: relative;
            width: 300px;
            margin-left: auto;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        #search {
            flex: 1;
            padding: 6px 8px;
            background: #305680;
            color: #fff;
            border: none;
            border-radius: 4px;
        }

        #suggestions {
            position: absolute;
            top: calc(100% + 6px);
            left: 0;
            right: 0;
            background: rgba(10, 18, 30, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.06);
            display: none;
            max-height: 300px;
            overflow-y: auto;
            z-index: 99999;
            color: #fff;
            border-radius: 6px;
        }

        .suggestion-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            cursor: pointer;
        }

        .suggestion-item img {
            width: 40px;
            height: 40px;
            object-fit: cover;
            border-radius: 6px;
        }

        .suggestion-item:hover {
            background: rgba(255, 255, 255, 0.03);
        }

        .search-box input::placeholder {
            color: #cfd8dc;
        }

        .search-box button {
            border: none;
            background: #1b3b63;
            color: white;
            padding: 5px 10px;
            cursor: pointer;
        }

        .search-box button:hover {
            background: #0f274a;
        }

    </style>
    <!-- CSS -->
    <style>
        .thumb {
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .thumb:hover {
            transform: scale(1.1);
        }

        .thumbs-row {
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .equal-col {
            display: flex;
        }

        .main-avatar {
            width: 100%; /* full ngang c·ªôt */
            height: 100%; /* cao b·∫±ng card b√™n c·∫°nh */
            object-fit: cover; /* c·∫Øt th·ª´a, kh√¥ng m√©o */
            border-radius: 10px;
        }

        .thumbs-row .thumb {
            width: 23%; /* 4 c√°i g·ªçn trong 1 h√†ng */
            height: 100px;
        }

        .name-game{
            text-align: center;
            color:orange;
        }

    </style>

    <!-- HTML hi·ªÉn th·ªã 3 c·ªôt -->
    <div class="container mt-5">
        <h3 class="name-game mt-3"><%= name %>
        </h3>
        <div class="row align-items-stretch">
            <!-- C·ªôt 1: Avatar + h√¨nh ·∫£nh -->
            <div class="col-md-4 d-flex flex-column equal-col">
                <div class="p-3 w-100 h-100 d-flex flex-column">
                    <!-- Avatar ch√≠nh -->
                    <img src="<%= img %>" alt="<%= name %>" class="img-fluid rounded shadow mb-3"/>

                    <!-- Thumbnails -->
                    <div class="thumbs-row d-flex justify-content-between gap-2">
                        <video class="thumb"
                               muted autoplay loop
                               onclick="openVideoModal('<%= video %>')">
                            <source src="<%= video %>" type="video/mp4">
                        </video>
                        <img src="<%= preview1 %>" class="thumb"
                             onclick="openImageModal('<%= preview1 %>')"/>
                        <img src="<%= preview2 %>" class="thumb"
                             onclick="openImageModal('<%= preview2 %>')"/>
                        <img src="<%= preview3 %>" class="thumb"
                             onclick="openImageModal('<%= preview3 %>')"/>
                    </div>
                </div>
                <!-- Modal ·∫£nh -->
                <div class="modal fade" id="imageModal" tabindex="-1">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                        <div class="modal-content bg-dark">
                            <div class="modal-body text-center">
                                <img id="modalImage" class="img-fluid rounded"/>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Modal video -->
                <div class="modal fade" id="videoModal" tabindex="-1">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                        <div class="modal-content bg-dark border-0">
                            <div class="modal-body p-0">
                                <video id="modalVideo" class="w-100" controls muted autoplay></video>
                            </div>
                        </div>
                    </div>
                </div>

            </div>


            <!-- C·ªôt 2: Th√¥ng tin chi ti·∫øt -->
            <div class="col-md-4 d-flex equal-col">
                <div class="card shadow p-3 w-100 h-100 d-flex flex-column">
                    <h4 class="mb-3">Th√¥ng tin chi ti·∫øt</h4>
                    <p><strong>üí≤ Gi√°:</strong> <%= price %>
                    </p>
                    <p><strong>‚≠ê ƒê√°nh gi√°:</strong> <%= rating %>
                    </p>
                    <p><strong>üìÇ Dung l∆∞·ª£ng:</strong> <%= size %>
                    </p>
                    <p><strong>üîû ƒê·ªô tu·ªïi:</strong> <%= age %>
                    </p>
                    <p><strong>‚¨áÔ∏è L∆∞·ª£t t·∫£i:</strong> <%= downloads %>
                    </p>
                    <p><strong>üìù M√¥ t·∫£:</strong> <%= description %>
                    </p>
                    <!-- N√∫t h√†nh ƒë·ªông -->
                    <div class="d-flex gap-2 mt-auto">
                        <!-- N√∫t Mua ngay -->
                        <form action="buy" method="post">
                            <input type="hidden" name="gameId" value="<%= id %>">
                            <button type="submit" class="btn btn-success w-100">üõí Mua ngay</button>
                        </form>

                        <!-- N√∫t Th√™m gi·ªè h√†ng -->
                        <form action="AddToCart" method="post">
                            <input type="hidden" name="gameId" value="<%= id %>">
                            <button type="submit" class="btn btn-primary w-100">‚ûï Th√™m gi·ªè h√†ng</button>
                        </form>
                    </div>

                </div>
            </div>

            <!-- C·ªôt 3: ƒê√°nh gi√° & B√¨nh lu·∫≠n -->
            <div class="col-md-4 d-flex equal-col">
                <div class="card shadow p-3 w-100 h-100 d-flex flex-column">
                    <h4 class="mb-3">ƒê√°nh gi√° & B√¨nh lu·∫≠n</h4>
                    <!-- T·ªïng ƒëi·ªÉm -->
                    <div class="mb-3">
                        <h5>‚≠ê 4.5 / 5</h5>
                        <small>6.5 tri·ªáu l∆∞·ª£t ƒë√°nh gi√°</small>
                    </div>
                    <!-- B√¨nh lu·∫≠n m·∫´u -->
                    <div class="border rounded p-2 mb-2">
                        <strong>Nguy·ªÖn VƒÉn A</strong>
                        <p>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
                        <p>Game r·∫•t hay, ƒë·ªì h·ªça ƒë·∫πp v√† m∆∞·ª£t.</p>
                    </div>
                    <div class="border rounded p-2 mb-2">
                        <strong>Tr·∫ßn Th·ªã B</strong>
                        <p>‚≠ê‚≠ê‚≠ê‚≠ê</p>
                        <p>Ch∆°i vui nh∆∞ng h∆°i n·∫∑ng m√°y.</p>
                    </div>
                    <div class="border rounded p-2 mb-2">
                        <strong>L√™ VƒÉn C</strong>
                        <p>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
                        <p>Update m·ªõi nhi·ªÅu t√≠nh nƒÉng h·∫•p d·∫´n üëç</p>
                    </div>
                    <!-- N√∫t xem th√™m -->
                    <div class="text-center mt-auto">
                        <button class="btn btn-outline-primary btn-sm">Xem th√™m b√¨nh lu·∫≠n</button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- ===================== FOOTER ===================== -->
    <footer class="footer custom-footer mt-auto py-5 text-white">
        <div class="container px-5">
            <div class="row gy-4 gx-5">
                <!-- C·ªôt 1: Logo & m√¥ t·∫£ -->

                <div class="col-md-3">
                    <a href="Index.jsp" class="logo-link">
                        <h3 class="fw-bolder neon-text mb-3">üéÆ GameStore</h3>
                    </a>

                    <p class="text-white-50">
                        Tr·∫£i nghi·ªám th·∫ø gi·ªõi game ƒë·ªânh cao ‚Äì n∆°i h·ªôi t·ª• nh·ªØng si√™u ph·∫©m nh·∫≠p vai, h√†nh ƒë·ªông v√† phi√™u l∆∞u.
                        GameStore mang ƒë·∫øn kh√¥ng gian gi·∫£i tr√≠ s·ªëng ƒë·ªông, ƒë·∫≠m ch·∫•t c√¥ng ngh·ªá v√† ƒëam m√™, gi√° c·∫£ h·ª£p l√Ω v√† nhi·ªÅu khuy·∫øn m√£i h·∫•p d·∫´n!.
                    </p>
                </div>

                <!-- C·ªôt 2: Li√™n k·∫øt nhanh -->
                <div class="col-md-3">
                    <h5 class="text-uppercase text-primary glow-title mb-3">Th√¥ng tin</h5>
                    <ul class="list-unstyled text-white-50">
                        <li><a href="#" class="footer-link">H·ªó tr·ª£</a></li>
                        <li><a href="About.jsp" class="footer-link">About us</a></li>
                        <li><a href="TermsOfService.jsp" class="footer-link">ƒêi·ªÅu kho·∫£n d·ªãch v·ª•</a></li>
                        <li><a href="PrivacyPolicy.jsp" class="footer-link">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></li>
                        <li><a href="BuyingGuide.jsp" class="footer-link">H∆∞·ªõng d·∫´n mua h√†ng</a></li>
                    </ul>
                </div>

                <div class="col-md-3">
                    <h5 class="text-uppercase text-primary glow-title mb-3">Li√™n h·ªá</h5>
                    <p><a href="tel:+84912345678" class="footer-link">+84 1900 1099 </a></p>
                    <p><a href="mailto:support@gamestore.com" class="footer-link">support@gamestore.com</a></p>
                    <p><a href="https://surl.li/bhtojh" target="_blank" class="footer-link">https://surl.li/bhtojh/</a></p>
                </div>

                <!-- C·ªôt 3: Li√™n h·ªá & MXH -->
                <div class="col-md-3">
                    <h5 class="text-uppercase text-primary glow-title mb-3">K·∫øt n·ªëi v·ªõi ch√∫ng t√¥i</h5>
                    <div class="social-icons">
                        <a href="https://surl.li/bhtojh" class="social-link" target="_blank">
                            <i class="bi bi-facebook"></i>
                        </a>
                        <a href="#" class="social-link"><i class="bi bi-youtube"></i></a>
                        <a href="#" class="social-link"><i class="bi bi-discord"></i></a>
                        <a href="#" class="social-link"><i class="bi bi-twitter-x"></i></a>
                    </div>
                    <img src="img/qr.jpg" alt="QR Shop" class="qr-img">
                </div>
            </div>

            <hr class="border-secondary my-4">

            <div class="text-center text-white-50 small">
                ¬© 2025 <span class="fw-bold text-primary">GameStore</span>. All rights reserved.
                | Designed by <span class="text-glow">Do Trong Tri</span>
            </div>
        </div>
    </footer>

    <!-- ===================== CSS ===================== -->
    <style>
        .logo-link {
            text-decoration: none !important;
            color: inherit; /* Gi·ªØ nguy√™n m√†u ch·ªØ h3 */
        }

        .logo-link:hover {
            color: #00e0ff; /* Th√™m hi·ªáu ·ª©ng hover n·∫øu mu·ªën */
            text-shadow: 0 0 10px #00e0ff;
        }

        /* N·ªÅn xanh ƒëen chuy·ªÉn s·∫Øc */
        .custom-footer {
            background: linear-gradient(135deg, #0b0f29, #1b2347);
            border-top: 2px solid #1e3a8a;
            font-family: 'Poppins', sans-serif;
            box-shadow: 0 -2px 20px rgba(0, 150, 255, 0.15);
        }

        /* Hi·ªáu ·ª©ng text neon */
        .neon-text {
            color: #4f9eff;
            text-shadow: 0 0 5px #4f9eff, 0 0 15px #4f9eff, 0 0 25px #007bff;
            animation: flicker 3s infinite;
        }

        /* Hi·ªáu ·ª©ng ch·ªõp s√°ng nh·∫π */
        @keyframes flicker {
            0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
                opacity: 1;
            }
            20%, 24%, 55% {
                opacity: 0.6;
            }
        }

        /* Ti√™u ƒë·ªÅ c√≥ √°nh s√°ng */
        .glow-title {
            text-shadow: 0 0 8px rgba(79, 158, 255, 0.8);
        }

        /* Li√™n k·∫øt ch√¢n trang */
        .footer-link {
            color: #adb5bd;
            text-decoration: none;
            display: inline-block;
            margin: 4px 0;
            transition: color 0.3s, transform 0.2s;
        }

        .footer-link:hover {
            color: #4f9eff;
            transform: translateX(4px);
        }

        /* Icon m·∫°ng x√£ h·ªôi */
        .social-icons {
            display: flex;
            gap: 18px;
            margin-top: 10px;
        }

        .social-link {
            color: #ffffffcc;
            font-size: 1.6rem;
            transition: all 0.3s ease;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
        }

        .social-link:hover {
            color: #4f9eff;
            transform: scale(1.25) rotate(8deg);
            text-shadow: 0 0 15px #4f9eff;
        }

        /* Glow t√™n t√°c gi·∫£ */
        .text-glow {
            color: #4f9eff;
            text-shadow: 0 0 10px #4f9eff;
        }

        .qr-img {
            margin-top: 15px;
            width: 160px;
            border-radius: 5px;
        }

    </style>

    <!-- Bootstrap Icons CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <script>
        // M·ªü modal ·∫£nh
        function openImageModal(src) {
            document.getElementById("modalImage").src = src;
            new bootstrap.Modal(document.getElementById('imageModal')).show();
        }

        function openVideoModal(src) {
            const videoEl = document.getElementById("modalVideo");

            // G√°n src m·ªõi
            videoEl.src = src;

            // Hi·ªán modal
            const modal = new bootstrap.Modal(document.getElementById('videoModal'));
            modal.show();

            // Ch·∫°y video khi modal hi·ªán
            videoEl.play().catch(() => {
                // fallback n·∫øu tr√¨nh duy·ªát ch·∫∑n autoplay
                console.log("Autoplay b·ªã ch·∫∑n, user c·∫ßn b·∫•m Play");
            });
        }

        // Khi modal ƒë√≥ng th√¨ d·ª´ng video v√† reset
        document.getElementById('videoModal').addEventListener('hidden.bs.modal', () => {
            const videoEl = document.getElementById("modalVideo");
            videoEl.pause();
            videoEl.currentTime = 0;
            videoEl.removeAttribute("src"); // clear ƒë·ªÉ l·∫ßn sau load l·∫°i
        });


    </script>

    <script>
        <%
                String showForm = (String) request.getAttribute("showForm");
        if ("register".equals(showForm)) {
        %>
            var registerModal = new bootstrap.Modal(document.getElementById('registerModal'));
            registerModal.show();
            <% } %>
    </script>


    <!-- dieu kien va JS hien thi loi buy sp -->
    <% if (request.getAttribute("buyError") != null) { %>
    <div id="buyAlert"
         style="position: fixed; top: 20px; right: 20px;
             background: #f44336; color: white; padding: 15px;
             border-radius: 8px; z-index: 9999;
             box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
        <%= request.getAttribute("buyError") %>
    </div>

    <script>
        setTimeout(function () {
            let alertBox = document.getElementById("buyAlert");
            if (alertBox) {
                alertBox.style.transition = "opacity 0.5s ease";
                alertBox.style.opacity = "0";
                setTimeout(() => alertBox.remove(), 500);
            }
        }, 3000);
    </script>
    <% } %>




    <!-- dieu kien va JS hien thi loi Add cart -->
    <% if (request.getAttribute("cartError") != null) { %>
    <div id="cartAlert"
         style="position: fixed; top: 20px; right: 20px; /* l·ªách xu·ªëng d∆∞·ªõi */
             background: #fff3cd; color: black; padding: 15px;
             border-radius: 8px; z-index: 9999;
             box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
        <%= request.getAttribute("cartError") %>
    </div>

    <script>
        setTimeout(function () {
            let alertBox = document.getElementById("cartAlert");
            if (alertBox) {
                alertBox.style.transition = "opacity 0.5s ease";
                alertBox.style.opacity = "0";
                setTimeout(() => alertBox.remove(), 500);
            }
        }, 3000);
    </script>
    <% } %>
    <!-- FontAwesome icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        (function () {
            var hasLoginError = <%= (loginError != null) ? "true" : "false" %>;
            if (!hasLoginError)
                return;

            if (typeof bootstrap === 'undefined') {
                console.error("Bootstrap is not loaded yet.");
                return;
            }

            var modalEl = document.getElementById('loginModal');
            var modal = bootstrap.Modal.getOrCreateInstance(modalEl, {backdrop: 'static', keyboard: false});
            var allowClose = false; // ch·ªâ cho ph√©p ƒë√≥ng khi user b·∫•m n√∫t close

            // ngƒÉn modal ƒë√≥ng n·∫øu ch∆∞a cho ph√©p
            modalEl.addEventListener('hide.bs.modal', function (e) {
                if (!allowClose) {
                    e.preventDefault();
                    // n·∫øu c√≥ script kh√°c c·ªë t√¨nh hide, reopen 1 l·∫ßn sau
                    setTimeout(function () {
                        modal.show();
                    }, 50);
                }
            });

            // b·∫≠t modal
            modal.show();

            // cho n√∫t close ho·∫°t ƒë·ªông an to√†n
            var closeBtn = document.getElementById('loginCloseBtn');
            if (closeBtn) {
                closeBtn.addEventListener('click', function () {
                    allowClose = true;
                    modal.hide();
                });
            }

            // ·∫®n alert sau countdown (KH√îNG ƒë√≥ng modal)
            var alert = modalEl.querySelector('#loginAlertArea .alert');
            if (!alert)
                return;
            var secondsSpan = alert.querySelector('.seconds');
            var remaining = secondsSpan ? parseInt(secondsSpan.textContent, 10) : 3;

            var timer = setInterval(function () {
                remaining--;
                if (secondsSpan)
                    secondsSpan.textContent = remaining;
                if (remaining <= 0) {
                    clearInterval(timer);
                    alert.classList.remove('show');
                    alert.classList.add('d-none');
                }
            }, 1000);
        })();
    </script>
</body>
</html>